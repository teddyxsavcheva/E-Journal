{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nadya\\\\Documents\\\\uni\\\\sem 6\\\\lekcii\\\\major\\\\Spring\\\\fullstack-backend\\\\E-Journal\\\\E-Journal-Group-Project\\\\frontend\\\\src\\\\components\\\\EditTeacherDiscipline.jsx\",\n  _s = $RefreshSig$();\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EditTeacherDiscipline = ({\n  item,\n  subjects,\n  teachers,\n  onSave,\n  onCancel\n}) => {\n  _s();\n  const [updatedItem, setUpdatedItem] = React.useState({\n    ...item\n  });\n  const [qualificationError, setQualificationError] = React.useState(null);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setUpdatedItem(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleSave = () => {\n    // Check if the selected teacher has the qualification for the selected subject\n    const selectedTeacher = teachers.find(teacher => teacher.id === updatedItem.teacherId);\n    if (!selectedTeacher || !selectedTeacher.subjectQualificationIds) {\n      setQualificationError('Selected teacher does not have any subject qualifications.');\n      return;\n    }\n    const selectedSubject = subjects.find(subject => subject.id === updatedItem.subjectId);\n    if (!selectedSubject || !selectedSubject.requiredQualificationIds) {\n      setQualificationError('Selected subject does not have any required qualifications.');\n      return;\n    }\n    const canTeach = selectedTeacher.subjectQualificationIds.some(qualificationId => selectedSubject.requiredQualificationIds.includes(qualificationId));\n    if (!canTeach) {\n      setQualificationError('Selected teacher does not have the qualification to teach this subject.');\n      return;\n    }\n\n    // Clear any previous error messages\n    setQualificationError(null);\n\n    // Proceed with saving the association\n    onSave(updatedItem);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"subject\",\n        children: \"Subject\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        className: \"form-control\",\n        id: \"subject\",\n        name: \"subjectId\",\n        value: updatedItem.subjectId || '',\n        onChange: handleChange,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          disabled: true,\n          children: \"Select a subject\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this), subjects.map(subject => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: subject.id,\n          children: subject.name\n        }, subject.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 25\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"teacher\",\n        children: \"Teacher\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        className: \"form-control\",\n        id: \"teacher\",\n        name: \"teacherId\",\n        value: updatedItem.teacherId || '',\n        onChange: handleChange,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          disabled: true,\n          children: \"Select a teacher\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this), teachers.map(teacher => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: teacher.id,\n          children: teacher.name\n        }, teacher.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 25\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), qualificationError && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-danger mb-2\",\n      children: qualificationError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"actions\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-sm btn-success me-1\",\n        onClick: handleSave,\n        children: \"Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-sm btn-secondary\",\n        onClick: onCancel,\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 9\n  }, this);\n};\n_s(EditTeacherDiscipline, \"9F9JZvxdm7R9qRPNzF7BFWso42M=\");\n_c = EditTeacherDiscipline;\nexport default EditTeacherDiscipline;\nvar _c;\n$RefreshReg$(_c, \"EditTeacherDiscipline\");","map":{"version":3,"names":["EditTeacherDiscipline","item","subjects","teachers","onSave","onCancel","_s","updatedItem","setUpdatedItem","React","useState","qualificationError","setQualificationError","handleChange","e","name","value","target","prev","handleSave","selectedTeacher","find","teacher","id","teacherId","subjectQualificationIds","selectedSubject","subject","subjectId","requiredQualificationIds","canTeach","some","qualificationId","includes","_jsxDEV","children","className","htmlFor","fileName","_jsxFileName","lineNumber","columnNumber","onChange","disabled","map","onClick","_c","$RefreshReg$"],"sources":["C:/Users/nadya/Documents/uni/sem 6/lekcii/major/Spring/fullstack-backend/E-Journal/E-Journal-Group-Project/frontend/src/components/EditTeacherDiscipline.jsx"],"sourcesContent":["const EditTeacherDiscipline = ({ item, subjects, teachers, onSave, onCancel }) => {\r\n    const [updatedItem, setUpdatedItem] = React.useState({ ...item });\r\n    const [qualificationError, setQualificationError] = React.useState(null);\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setUpdatedItem(prev => ({ ...prev, [name]: value }));\r\n    };\r\n\r\n    const handleSave = () => {\r\n        // Check if the selected teacher has the qualification for the selected subject\r\n        const selectedTeacher = teachers.find(teacher => teacher.id === updatedItem.teacherId);\r\n        if (!selectedTeacher || !selectedTeacher.subjectQualificationIds) {\r\n            setQualificationError('Selected teacher does not have any subject qualifications.');\r\n            return;\r\n        }\r\n\r\n        const selectedSubject = subjects.find(subject => subject.id === updatedItem.subjectId);\r\n        if (!selectedSubject || !selectedSubject.requiredQualificationIds) {\r\n            setQualificationError('Selected subject does not have any required qualifications.');\r\n            return;\r\n        }\r\n\r\n        const canTeach = selectedTeacher.subjectQualificationIds.some(qualificationId =>\r\n            selectedSubject.requiredQualificationIds.includes(qualificationId)\r\n        );\r\n\r\n        if (!canTeach) {\r\n            setQualificationError('Selected teacher does not have the qualification to teach this subject.');\r\n            return;\r\n        }\r\n\r\n        // Clear any previous error messages\r\n        setQualificationError(null);\r\n\r\n        // Proceed with saving the association\r\n        onSave(updatedItem);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"mb-2\">\r\n                <label htmlFor=\"subject\">Subject</label>\r\n                <select\r\n                    className=\"form-control\"\r\n                    id=\"subject\"\r\n                    name=\"subjectId\"\r\n                    value={updatedItem.subjectId || ''}\r\n                    onChange={handleChange}\r\n                >\r\n                    <option value=\"\" disabled>Select a subject</option>\r\n                    {subjects.map(subject => (\r\n                        <option key={subject.id} value={subject.id}>\r\n                            {subject.name}\r\n                        </option>\r\n                    ))}\r\n                </select>\r\n            </div>\r\n            <div className=\"mb-2\">\r\n                <label htmlFor=\"teacher\">Teacher</label>\r\n                <select\r\n                    className=\"form-control\"\r\n                    id=\"teacher\"\r\n                    name=\"teacherId\"\r\n                    value={updatedItem.teacherId || ''}\r\n                    onChange={handleChange}\r\n                >\r\n                    <option value=\"\" disabled>Select a teacher</option>\r\n                    {teachers.map(teacher => (\r\n                        <option key={teacher.id} value={teacher.id}>\r\n                            {teacher.name}\r\n                        </option>\r\n                    ))}\r\n                </select>\r\n            </div>\r\n            {qualificationError && (\r\n                <div className=\"alert alert-danger mb-2\">{qualificationError}</div>\r\n            )}\r\n            <div className=\"actions\">\r\n                <button className=\"btn btn-sm btn-success me-1\" onClick={handleSave}>Save</button>\r\n                <button className=\"btn btn-sm btn-secondary\" onClick={onCancel}>Cancel</button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default EditTeacherDiscipline;"],"mappings":";;;AAAA,MAAMA,qBAAqB,GAAGA,CAAC;EAAEC,IAAI;EAAEC,QAAQ;EAAEC,QAAQ;EAAEC,MAAM;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EAC9E,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGC,KAAK,CAACC,QAAQ,CAAC;IAAE,GAAGT;EAAK,CAAC,CAAC;EACjE,MAAM,CAACU,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGH,KAAK,CAACC,QAAQ,CAAC,IAAI,CAAC;EAExE,MAAMG,YAAY,GAAIC,CAAC,IAAK;IACxB,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAGF,CAAC,CAACG,MAAM;IAChCT,cAAc,CAACU,IAAI,KAAK;MAAE,GAAGA,IAAI;MAAE,CAACH,IAAI,GAAGC;IAAM,CAAC,CAAC,CAAC;EACxD,CAAC;EAED,MAAMG,UAAU,GAAGA,CAAA,KAAM;IACrB;IACA,MAAMC,eAAe,GAAGjB,QAAQ,CAACkB,IAAI,CAACC,OAAO,IAAIA,OAAO,CAACC,EAAE,KAAKhB,WAAW,CAACiB,SAAS,CAAC;IACtF,IAAI,CAACJ,eAAe,IAAI,CAACA,eAAe,CAACK,uBAAuB,EAAE;MAC9Db,qBAAqB,CAAC,4DAA4D,CAAC;MACnF;IACJ;IAEA,MAAMc,eAAe,GAAGxB,QAAQ,CAACmB,IAAI,CAACM,OAAO,IAAIA,OAAO,CAACJ,EAAE,KAAKhB,WAAW,CAACqB,SAAS,CAAC;IACtF,IAAI,CAACF,eAAe,IAAI,CAACA,eAAe,CAACG,wBAAwB,EAAE;MAC/DjB,qBAAqB,CAAC,6DAA6D,CAAC;MACpF;IACJ;IAEA,MAAMkB,QAAQ,GAAGV,eAAe,CAACK,uBAAuB,CAACM,IAAI,CAACC,eAAe,IACzEN,eAAe,CAACG,wBAAwB,CAACI,QAAQ,CAACD,eAAe,CACrE,CAAC;IAED,IAAI,CAACF,QAAQ,EAAE;MACXlB,qBAAqB,CAAC,yEAAyE,CAAC;MAChG;IACJ;;IAEA;IACAA,qBAAqB,CAAC,IAAI,CAAC;;IAE3B;IACAR,MAAM,CAACG,WAAW,CAAC;EACvB,CAAC;EAED,oBACI2B,OAAA;IAAAC,QAAA,gBACID,OAAA;MAAKE,SAAS,EAAC,MAAM;MAAAD,QAAA,gBACjBD,OAAA;QAAOG,OAAO,EAAC,SAAS;QAAAF,QAAA,EAAC;MAAO;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eACxCP,OAAA;QACIE,SAAS,EAAC,cAAc;QACxBb,EAAE,EAAC,SAAS;QACZR,IAAI,EAAC,WAAW;QAChBC,KAAK,EAAET,WAAW,CAACqB,SAAS,IAAI,EAAG;QACnCc,QAAQ,EAAE7B,YAAa;QAAAsB,QAAA,gBAEvBD,OAAA;UAAQlB,KAAK,EAAC,EAAE;UAAC2B,QAAQ;UAAAR,QAAA,EAAC;QAAgB;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,EAClDvC,QAAQ,CAAC0C,GAAG,CAACjB,OAAO,iBACjBO,OAAA;UAAyBlB,KAAK,EAAEW,OAAO,CAACJ,EAAG;UAAAY,QAAA,EACtCR,OAAO,CAACZ;QAAI,GADJY,OAAO,CAACJ,EAAE;UAAAe,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAEf,CACX,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACR,CAAC,eACNP,OAAA;MAAKE,SAAS,EAAC,MAAM;MAAAD,QAAA,gBACjBD,OAAA;QAAOG,OAAO,EAAC,SAAS;QAAAF,QAAA,EAAC;MAAO;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eACxCP,OAAA;QACIE,SAAS,EAAC,cAAc;QACxBb,EAAE,EAAC,SAAS;QACZR,IAAI,EAAC,WAAW;QAChBC,KAAK,EAAET,WAAW,CAACiB,SAAS,IAAI,EAAG;QACnCkB,QAAQ,EAAE7B,YAAa;QAAAsB,QAAA,gBAEvBD,OAAA;UAAQlB,KAAK,EAAC,EAAE;UAAC2B,QAAQ;UAAAR,QAAA,EAAC;QAAgB;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,EAClDtC,QAAQ,CAACyC,GAAG,CAACtB,OAAO,iBACjBY,OAAA;UAAyBlB,KAAK,EAAEM,OAAO,CAACC,EAAG;UAAAY,QAAA,EACtCb,OAAO,CAACP;QAAI,GADJO,OAAO,CAACC,EAAE;UAAAe,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAEf,CACX,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACR,CAAC,EACL9B,kBAAkB,iBACfuB,OAAA;MAAKE,SAAS,EAAC,yBAAyB;MAAAD,QAAA,EAAExB;IAAkB;MAAA2B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CACrE,eACDP,OAAA;MAAKE,SAAS,EAAC,SAAS;MAAAD,QAAA,gBACpBD,OAAA;QAAQE,SAAS,EAAC,6BAA6B;QAACS,OAAO,EAAE1B,UAAW;QAAAgB,QAAA,EAAC;MAAI;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eAClFP,OAAA;QAAQE,SAAS,EAAC,0BAA0B;QAACS,OAAO,EAAExC,QAAS;QAAA8B,QAAA,EAAC;MAAM;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC9E,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEd,CAAC;AAACnC,EAAA,CApFIN,qBAAqB;AAAA8C,EAAA,GAArB9C,qBAAqB;AAsF3B,eAAeA,qBAAqB;AAAC,IAAA8C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}